<%- include('../partials/header') %>
<%- include('../partials/navbar') %>

<div class="container">
    <h2>Password List</h2>
    <table class="table table-hover border">
        <thead style="background: #8a8cd8;">
            <tr class="table-header">
                <th style="width: 10%;">#</th>
                <th style="width: 35%;">Work Space</th>
                <th style="width: 35%;">Category Name</th>
                <th style="width: 20%;">Action</th>
            </tr>
        </thead>
        <tbody class="table-hover">
            <%
                if(passwords.length > 0){
                passwords.map((item, index)=>{
            %>
            <tr>
                <th><%= index+1 %></th>
                <td><%= item.workSpace %></td>
                <td><%= item.categoryName %></td>
                <td>
                    <button type="button" class="btn btn-info btn-sm button-size" data-toggle="modal" data-target="#myModal<%= item._id %>"><i class="fas fa-search"></i></button>

                </td>
            </tr>
            <!-- Modal -->
            <div class="modal fade" id="myModal<%= item._id %>" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title"><%= item.workSpace %></h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p><%- item.passwordDetails %></p>
                        </div>
                    </div>
                </div>
            </div>
            <% })} %>
        </tbody>
    </table>
</div>

<%- include('../partials/footer') %>